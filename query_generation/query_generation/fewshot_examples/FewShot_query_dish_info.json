{
    "examples": [
        {
            "question": "Ciao, il couscous contiene glutine?",
            "parameters": "{'nome_utente': '','nome_piatto': 'couscous', 'controllo_ingredienti':'glutine'}",
            "query": "MATCH (d:Dish {name: 'pasta al pomodoro'}) OPTIONAL MATCH (d)-[:CONTAINS]->(i:Ingredient) OPTIONAL MATCH (i)-[:CONTAINS]->(a:Allergen) WITH d, [name IN COLLECT(DISTINCT i.name) WHERE toLower(name) CONTAINS 'glutine'] AS matching_ingredients, [name IN COLLECT(DISTINCT a.name) WHERE toLower(name) CONTAINS 'glutine'] AS matching_allergens WITH d, apoc.coll.toSet(matching_ingredients + matching_allergens) AS contains RETURN d.name AS dish, contains"
        },
        {
            "question": "Ciao, puoi darmi informazioni sui valori nutrizionali della lasagna?",
            "parameters": "{'nome_utente': '','nome_piatto': 'lasagna'}",
            "query": "MATCH (r:Recipe {name: 'lasagna'}) OPTIONAL MATCH (r)-[:HAS_ALLERGEN]->(ra:Allergen) RETURN r, COLLECT(ra) AS recipe_allergens, [] AS user_allergies"
        },
        {
            "question": "Mi chiamo Valerio, vorrei sapere se posso mangiare il tiramisù.",
            "parameters": "{'nome_utente': 'Valerio', 'nome_piatto': 'tiramisù'}",
            "query": "MATCH (r:Recipe {name: 'tiramisù'}) OPTIONAL MATCH (r)-[:HAS_ALLERGEN]->(ra:Allergen) OPTIONAL MATCH (u:User {name: 'Valerio'})-[:IS_ALLERGIC_TO]->(ua:Allergen) RETURN r, COLLECT(ra) AS recipe_allergens, COLLECT(ua) AS user_allergies"
        }
    ]
}
